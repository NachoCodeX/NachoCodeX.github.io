{"version":3,"sources":["webpack:///./node_modules/graphql-tag/src/index.js","webpack:///./src/app/pages/homeworks-page/homeworks-page.component.html","webpack:///./src/app/pages/homeworks-page/homeworks-page.component.scss","webpack:///./src/app/pages/homeworks-page/homeworks-page.component.ts","webpack:///./src/app/pages/homeworks-page/homeworks-page.module.ts"],"names":[],"mappings":"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","file":"homeworks-page-homeworks-page-module.js","sourcesContent":["var parser = require('graphql/language/parser');\n\nvar parse = parser.parse;\n\n// Strip insignificant whitespace\n// Note that this could do a lot more, such as reorder fields etc.\nfunction normalize(string) {\n  return string.replace(/[\\s,]+/g, ' ').trim();\n}\n\n// A map docString -> graphql document\nvar docCache = {};\n\n// A map fragmentName -> [normalized source]\nvar fragmentSourceMap = {};\n\nfunction cacheKeyFromLoc(loc) {\n  return normalize(loc.source.body.substring(loc.start, loc.end));\n}\n\n// For testing.\nfunction resetCaches() {\n  docCache = {};\n  fragmentSourceMap = {};\n}\n\n// Take a unstripped parsed document (query/mutation or even fragment), and\n// check all fragment definitions, checking for name->source uniqueness.\n// We also want to make sure only unique fragments exist in the document.\nvar printFragmentWarnings = true;\nfunction processFragments(ast) {\n  var astFragmentMap = {};\n  var definitions = [];\n\n  for (var i = 0; i < ast.definitions.length; i++) {\n    var fragmentDefinition = ast.definitions[i];\n\n    if (fragmentDefinition.kind === 'FragmentDefinition') {\n      var fragmentName = fragmentDefinition.name.value;\n      var sourceKey = cacheKeyFromLoc(fragmentDefinition.loc);\n\n      // We know something about this fragment\n      if (fragmentSourceMap.hasOwnProperty(fragmentName) && !fragmentSourceMap[fragmentName][sourceKey]) {\n\n        // this is a problem because the app developer is trying to register another fragment with\n        // the same name as one previously registered. So, we tell them about it.\n        if (printFragmentWarnings) {\n          console.warn(\"Warning: fragment with name \" + fragmentName + \" already exists.\\n\"\n            + \"graphql-tag enforces all fragment names across your application to be unique; read more about\\n\"\n            + \"this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names\");\n        }\n\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n\n      } else if (!fragmentSourceMap.hasOwnProperty(fragmentName)) {\n        fragmentSourceMap[fragmentName] = {};\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n      }\n\n      if (!astFragmentMap[sourceKey]) {\n        astFragmentMap[sourceKey] = true;\n        definitions.push(fragmentDefinition);\n      }\n    } else {\n      definitions.push(fragmentDefinition);\n    }\n  }\n\n  ast.definitions = definitions;\n  return ast;\n}\n\nfunction disableFragmentWarnings() {\n  printFragmentWarnings = false;\n}\n\nfunction stripLoc(doc, removeLocAtThisLevel) {\n  var docType = Object.prototype.toString.call(doc);\n\n  if (docType === '[object Array]') {\n    return doc.map(function (d) {\n      return stripLoc(d, removeLocAtThisLevel);\n    });\n  }\n\n  if (docType !== '[object Object]') {\n    throw new Error('Unexpected input.');\n  }\n\n  // We don't want to remove the root loc field so we can use it\n  // for fragment substitution (see below)\n  if (removeLocAtThisLevel && doc.loc) {\n    delete doc.loc;\n  }\n\n  // https://github.com/apollographql/graphql-tag/issues/40\n  if (doc.loc) {\n    delete doc.loc.startToken;\n    delete doc.loc.endToken;\n  }\n\n  var keys = Object.keys(doc);\n  var key;\n  var value;\n  var valueType;\n\n  for (key in keys) {\n    if (keys.hasOwnProperty(key)) {\n      value = doc[keys[key]];\n      valueType = Object.prototype.toString.call(value);\n\n      if (valueType === '[object Object]' || valueType === '[object Array]') {\n        doc[keys[key]] = stripLoc(value, true);\n      }\n    }\n  }\n\n  return doc;\n}\n\nvar experimentalFragmentVariables = false;\nfunction parseDocument(doc) {\n  var cacheKey = normalize(doc);\n\n  if (docCache[cacheKey]) {\n    return docCache[cacheKey];\n  }\n\n  var parsed = parse(doc, { experimentalFragmentVariables: experimentalFragmentVariables });\n  if (!parsed || parsed.kind !== 'Document') {\n    throw new Error('Not a valid GraphQL document.');\n  }\n\n  // check that all \"new\" fragments inside the documents are consistent with\n  // existing fragments of the same name\n  parsed = processFragments(parsed);\n  parsed = stripLoc(parsed, false);\n  docCache[cacheKey] = parsed;\n\n  return parsed;\n}\n\nfunction enableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = true;\n}\n\nfunction disableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = false;\n}\n\n// XXX This should eventually disallow arbitrary string interpolation, like Relay does\nfunction gql(/* arguments */) {\n  var args = Array.prototype.slice.call(arguments);\n\n  var literals = args[0];\n\n  // We always get literals[0] and then matching post literals for each arg given\n  var result = (typeof(literals) === \"string\") ? literals : literals[0];\n\n  for (var i = 1; i < args.length; i++) {\n    if (args[i] && args[i].kind && args[i].kind === 'Document') {\n      result += args[i].loc.source.body;\n    } else {\n      result += args[i];\n    }\n\n    result += literals[i];\n  }\n\n  return parseDocument(result);\n}\n\n// Support typescript, which isn't as nice as Babel about default exports\ngql.default = gql;\ngql.resetCaches = resetCaches;\ngql.disableFragmentWarnings = disableFragmentWarnings;\ngql.enableExperimentalFragmentVariables = enableExperimentalFragmentVariables;\ngql.disableExperimentalFragmentVariables = disableExperimentalFragmentVariables;\n\nmodule.exports = gql;\n","module.exports = \"<div class=\\\"homeworks-wrapper\\\">\\n  <article *ngIf=\\\"!isLoading\\\" class=\\\"homeworks-grid\\\">\\n    <div *ngFor=\\\"let homework of homeworks\\\" class=\\\"homework-wrapper\\\">\\n      <div (click)=\\\"onView(homework._id, homework.url)\\\" class=\\\"pointer flex flex-center homework-description\\\">\\n        <h2 class=\\\"homework-title\\\">{{ homework.name }}</h2>\\n      </div>\\n      <footer class=\\\"flex homework-footer\\\">\\n        <ul class=\\\"homework-list flex\\\">\\n          <li\\n            (click)=\\\"isLiked(homework._id, userID) ? onDislike(homework._id) : onLike(homework._id)\\\"\\n            class=\\\"pointer homework-list-item flex flex-center\\\"\\n          >\\n            <fa-icon\\n              [class.isLiked]=\\\"isLiked(homework._id, userID)\\\"\\n              class=\\\"like homework-like pointer text-white n-mr-xs\\\"\\n              size=\\\"2x\\\"\\n              [icon]=\\\"likeIcon\\\"\\n            ></fa-icon>\\n            <span class=\\\"text-white text--size-md\\\">{{ homework.likes.length }}</span>\\n          </li>\\n          <li class=\\\"pointer homework-list-item flex flex-center\\\">\\n            <fa-icon size=\\\"2x\\\" class=\\\"n-mr-xs text-white\\\" [icon]=\\\"openIcon\\\"></fa-icon>\\n            <span class=\\\"text-white text--size-md\\\">{{ homework.views }}</span>\\n          </li>\\n          <li class=\\\"pointer homework-list-item flex flex-center\\\">\\n            <fa-icon size=\\\"2x\\\" class=\\\"pointer text-white\\\" [icon]=\\\"githubIcon\\\"></fa-icon>\\n          </li>\\n        </ul>\\n      </footer>\\n    </div>\\n  </article>\\n</div>\\n\"","module.exports = \".homeworks-wrapper {\\n  height: 100%;\\n  overflow-y: scroll;\\n  display: flex;\\n  justify-content: center; }\\n  .homeworks-wrapper::-webkit-scrollbar {\\n    background: #fff; }\\n  .homeworks-grid {\\n  display: grid;\\n  width: 100%;\\n  grid-template-columns: repeat(4, 0.25fr);\\n  grid-auto-rows: 300px;\\n  padding: 40px;\\n  grid-gap: 20px; }\\n  .homework-like {\\n  color: #343232; }\\n  .homework-like.isLiked {\\n    color: #9c27b0; }\\n  .homework-wrapper {\\n  overflow: hidden;\\n  display: grid;\\n  grid-template-rows: 1fr 4rem;\\n  border-radius: 5px;\\n  background-color: #222121;\\n  transition: all ease 0.4s; }\\n  .homework-wrapper:hover {\\n    -webkit-transform: scale(1.05);\\n            transform: scale(1.05);\\n    box-shadow: 0px 7px 10px 2px rgba(0, 0, 0, 0.3); }\\n  .homework-list {\\n  width: 100%; }\\n  .homework-list-item {\\n    transition: all ease 0.5s;\\n    flex: 1; }\\n  .homework-list-item:first-child:hover .homework-like.like {\\n      -webkit-animation: beating ease 0.8s infinite;\\n              animation: beating ease 0.8s infinite; }\\n  @-webkit-keyframes beating {\\n  0% {\\n    -webkit-transform: scale(1.1);\\n            transform: scale(1.1); }\\n  100% {\\n    -webkit-transform: scale(0.7);\\n            transform: scale(0.7); } }\\n  @keyframes beating {\\n  0% {\\n    -webkit-transform: scale(1.1);\\n            transform: scale(1.1); }\\n  100% {\\n    -webkit-transform: scale(0.7);\\n            transform: scale(0.7); } }\\n  .homework-list-item:hover {\\n      background-color: #121212; }\\n  .homework-title {\\n  font-size: 24px;\\n  color: #fff; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL25hY2hvL1Byb2dyYW1taW5nL05vZGVqcy9Bbmd1bGFyL2phbWVzLXBhZ2UtYXBwL3NyYy9hcHAvcGFnZXMvaG9tZXdvcmtzLXBhZ2UvaG9tZXdvcmtzLXBhZ2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0U7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYix1QkFBdUIsRUFBQTtFQUp4QjtJQU1HLGdCQUFnQixFQUFBO0VBR3BCO0VBQ0UsYUFBYTtFQUNiLFdBQVc7RUFDWCx3Q0FBd0M7RUFDeEMscUJBQXFCO0VBRXJCLGFBQWE7RUFDYixjQUFjLEVBQUE7RUFLaEI7RUFDRSxjQUF3QyxFQUFBO0VBRHpDO0lBR0csY0FBYyxFQUFBO0VBR2xCO0VBQ0UsZ0JBQWdCO0VBRWhCLGFBQWE7RUFDYiw0QkFBNEI7RUFDNUIsa0JBQWtCO0VBQ2xCLHlCQUFrRDtFQUNsRCx5QkFBeUIsRUFBQTtFQVAxQjtJQVNHLDhCQUFzQjtZQUF0QixzQkFBc0I7SUFDdEIsK0NBQXNDLEVBQUE7RUFHMUM7RUFDRSxXQUFXLEVBQUE7RUFDWDtJQUVFLHlCQUF5QjtJQUN6QixPQUFPLEVBQUE7RUFIUjtNQWdCUyw2Q0FBcUM7Y0FBckMscUNBQXFDLEVBQUE7RUFSckM7RUFDRTtJQUNFLDZCQUFxQjtZQUFyQixxQkFBcUIsRUFBQTtFQUV2QjtJQUNFLDZCQUFxQjtZQUFyQixxQkFBcUIsRUFBQSxFQUFBO0VBTHpCO0VBQ0U7SUFDRSw2QkFBcUI7WUFBckIscUJBQXFCLEVBQUE7RUFFdkI7SUFDRSw2QkFBcUI7WUFBckIscUJBQXFCLEVBQUEsRUFBQTtFQWJsQztNQXNCRyx5QkFBaUQsRUFBQTtFQUl2RDtFQUNFLGVBQWU7RUFDZixXQUFXLEVBQUEiLCJmaWxlIjoiLi4vc3JjL2FwcC9wYWdlcy9ob21ld29ya3MtcGFnZS9ob21ld29ya3MtcGFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uLy4uL3Nhc3MvY29sb3InO1xuXG4uaG9tZXdvcmtzLSB7XG4gICZ3cmFwcGVyIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgJjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICB9XG4gIH1cbiAgJmdyaWQge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNCwgMC4yNWZyKTtcbiAgICBncmlkLWF1dG8tcm93czogMzAwcHg7XG5cbiAgICBwYWRkaW5nOiA0MHB4O1xuICAgIGdyaWQtZ2FwOiAyMHB4O1xuICB9XG59XG5cbi5ob21ld29yay0ge1xuICAmbGlrZSB7XG4gICAgY29sb3I6IGxpZ2h0ZW4oZ2V0Q29sb3IoJ3ByaW1hcnknKSwgMTAlKTtcbiAgICAmLmlzTGlrZWQge1xuICAgICAgY29sb3I6ICM5YzI3YjA7XG4gICAgfVxuICB9XG4gICZ3cmFwcGVyIHtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIC8vIGRpc3BsYXk6IGZsZXg7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciA0cmVtO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGVuKGdldENvbG9yKCdwcmltYXJ5JyksIDMlKTtcbiAgICB0cmFuc2l0aW9uOiBhbGwgZWFzZSAwLjRzO1xuICAgICY6aG92ZXIge1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbiAgICAgIGJveC1zaGFkb3c6IDBweCA3cHggMTBweCAycHggcmdiYSgjMDAwLCAwLjMpO1xuICAgIH1cbiAgfVxuICAmbGlzdCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgJi1pdGVtIHtcbiAgICAgIC8vIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgZWFzZSAwLjVzO1xuICAgICAgZmxleDogMTtcbiAgICAgICY6Zmlyc3QtY2hpbGQge1xuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAuaG9tZXdvcmstbGlrZSB7XG4gICAgICAgICAgICAmLmxpa2Uge1xuICAgICAgICAgICAgICBAa2V5ZnJhbWVzIGJlYXRpbmcge1xuICAgICAgICAgICAgICAgIDAlIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgMTAwJSB7XG4gICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuNyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogYmVhdGluZyBlYXNlIDAuOHMgaW5maW5pdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2VuKGdldENvbG9yKCdwcmltYXJ5JyksIDMlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgJnRpdGxlIHtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgY29sb3I6ICNmZmY7XG4gIH1cbiAgJmRlc2NyaXB0aW9uIHtcbiAgfVxuICAmZm9vdGVyIHtcbiAgICAvLyBiYWNrZ3JvdW5kOiByZWQ7XG4gIH1cbn1cbiJdfQ== */\"","import { ApiControllerService } from 'src/app/services/api-controller/api-controller.service';\nimport { Component, OnInit } from '@angular/core';\nimport { faHeart, faEye } from '@fortawesome/free-solid-svg-icons';\nimport { faGithubAlt } from '@fortawesome/free-brands-svg-icons';\nimport { Apollo } from 'apollo-angular';\nimport { Homework, Like } from 'src/app/typings/homework';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-homeworks-page',\n  templateUrl: './homeworks-page.component.html',\n  styleUrls: ['./homeworks-page.component.scss']\n})\nexport class HomeworksPageComponent implements OnInit {\n  public likeIcon = faHeart;\n  public githubIcon = faGithubAlt;\n  public openIcon = faEye;\n  public homeworks: Homework[];\n  public isLoading = false;\n  public userID: string;\n\n  constructor(private apollo: Apollo, private api: ApiControllerService, private router: Router) {\n    this.api.homeworks.subscribe(homeworks => (this.homeworks = homeworks));\n    this.api.userID.subscribe((userID: string) => (this.userID = userID));\n  }\n\n  getlikeID(id: string) {\n    return this.homeworks.filter(homework => homework._id === id)[0].likes.filter(like => like.user === this.userID)[0]\n      ._id;\n  }\n\n  onDislike(id: string) {\n    console.log(`HOMEWORK: ${id}\\nLIKEID: ${this.getlikeID(id)}`);\n\n    this.api.dislikeHomework(id, this.getlikeID(id)).subscribe(() => {\n      this.homeworks = this.homeworks.map(homework => {\n        if (homework._id === id) {\n          homework.likes = homework.likes.filter(like => like._id !== this.getlikeID(id));\n        }\n        return homework;\n      });\n    });\n  }\n  onLike(id: string) {\n    this.api.likeHomework(id).subscribe({\n      next: (like: Like) => {\n        console.log(like);\n\n        this.homeworks = this.homeworks.map(homework => {\n          if (homework._id === id) {\n            homework.likes.push(like);\n          }\n\n          return homework;\n        });\n      },\n      error(e) {\n        console.log(e);\n      }\n    });\n  }\n\n  isLiked(id: string, userID: string): boolean {\n    return this.homeworks.filter(homework => homework._id === id)[0].likes.some(like => like.user === userID);\n  }\n\n  ngOnInit() {\n    // this.getUser();\n  }\n\n  private incrementViews(id: string) {\n    this.api.incrementHomeworkViews(id).subscribe((views: number) => {\n      this.homeworks = this.homeworks.map(homework => {\n        if (homework._id === id) {\n          homework.views = views;\n        }\n        return homework;\n      });\n    });\n  }\n  onView(id: string, url: string) {\n    console.log(`Click on ${id}`);\n    this.incrementViews(id);\n    this.router.navigate([`/dashboard/homework/${url}`]);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HomeworksPageComponent } from './homeworks-page.component';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomeworksPageComponent\n  }\n];\n\n@NgModule({\n  declarations: [HomeworksPageComponent],\n  imports: [CommonModule, FontAwesomeModule, RouterModule.forChild(routes)]\n})\nexport class HomeworksPageModule {}\n"],"sourceRoot":""}